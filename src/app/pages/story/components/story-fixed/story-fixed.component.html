<mat-toolbar #toolbar [ngClass]="{'sticky-header': toolbarSticky }">
  <button mat-button *ngFor="let sectionHeader of sectionHeaders" (click)="scrollToElement(sectionHeader.id)">
    {{ sectionHeader.title }}
  </button>
</mat-toolbar>
<div class="story-container" [ngClass]="{'sticky-container': toolbarSticky }">
  <div class="text-container">
    <app-layer-marker [layerName]="'vbb-stations-s-u-bahn'"
                      (layerMarkerVisibleEventEmitter)="onLayerMarkerVisibilityChanged($event)"></app-layer-marker>
    <app-section-header #challenge id="challenge" title="Urbane MobilitÃ¤t als Herausforderung"></app-section-header>

    <ng-container>
      <app-section [chapters]="['berliner-mobilitaetsgesetz']"></app-section>
    </ng-container>

    <app-section-header #sources id="sources" title="Quellen des Verkehrs"></app-section-header>

    <ng-container>
      <app-section [chapters]="['quellen-des-verkehrs']"></app-section>
      <app-section [chapters]="['lebensraeume']"></app-section>
      <app-section [chapters]="['arbeitsraeume']"></app-section>
    </ng-container>

    <app-section-header #situation id="situation"
                        title="Aktuelle Verkehrssituation"></app-section-header>

    <ng-container>
      <app-section [chapters]="['verkehrsnetze']"></app-section>
      <app-section [chapters]="['erreichbarkeit']"></app-section>
      <app-section [chapters]="['auslastung-der-infrastruktur']"></app-section>

      <app-layer-marker [layerName]="'vbb-stations-s-u-bahn'" [transparency]=50
                        (layerMarkerVisibleEventEmitter)="onLayerMarkerVisibilityChanged($event)"></app-layer-marker>
      <app-layer-marker [layerName]="'nextbike-stations'"
                        (layerMarkerVisibleEventEmitter)="onLayerMarkerVisibilityChanged($event)"></app-layer-marker>
    </ng-container>
  </div>
  <div class="map-container">
    <app-map [id]="'single-map'"
             [style]="mapBoxStyleEnum.LIGHT_V10"
             [zoom]="11"
             [interactiveEnabled]=false
             [initialTransparency]="0"
             [parametrizeOpacityEnabled]=true
             [transparencies]="transparencies"
             [results]=results></app-map>
    <div *ngIf="visibleLayerMarkers.length > 0" style="color: #BBB; margin-top: 25px">
      (debug) visible layers
      <ul>
        <li *ngFor="let v of visibleLayerMarkers">{{v}}</li>
      </ul>
    </div>
  </div>
</div>
<app-footer [sectionHeaders]="sectionHeaders"></app-footer>
